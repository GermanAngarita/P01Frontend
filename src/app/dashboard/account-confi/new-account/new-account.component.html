<div class="card bg-light">
  <div class="card-body">
    <h5 class="card-title">Formulario Creación de Nueva Cuenta</h5>
    <p class="card-text text-justify">
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Modi reprehenderit dolore doloremque consequuntur accusamus deserunt amet in blanditiis a praesentium. Quasi asperiores necessitatibus explicabo voluptatibus molestias accusantium ex architecto ullam.
    </p>
    
    <div class="row">
      <div class="col">
        <div class="form-group">
          <label for="">Nombre de la cuenta</label>
          <input type="text" class="form-control form-control-sm" [(ngModel)]="account.name" (change)="getAv (account.name, account.city)">
        </div>
      </div>
      <div class="col">
        <div class="form-group">
          <label for="">Código</label>
          <input type="text" class="form-control form-control-sm" [(ngModel)]="account.code" disabled>
        </div>
      </div>
      <div class="col">
        <div class="form-group">
          <label for="">Abreviatura</label>
          <input type="text" class="form-control form-control-sm" [(ngModel)]="account.av" disabled>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <div class="form-group">
          <label for="">Email</label>
          <input type="email" class="form-control form-control-sm" [(ngModel)]="account.email" >
        </div>
      </div>
      <div class="col">
        <div class="form-group">
          <label for="">NIT - Cédula</label>
          <input type="text" class="form-control form-control-sm" [(ngModel)]="account.nit" >
        </div>
      </div>
      <div class="col">
        <div class="form-group">
          <label for="">Teléfono</label>
          <input type="text" class="form-control form-control-sm" [(ngModel)]="account.telephone" >
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <div class="form-group">
          <label for="">Dirección</label>
          <input type="text" class="form-control form-control-sm" [(ngModel)]="account.address">
        </div>
      </div>
      <div class="col">
        <div class="form-group">
          <label for="">Ciudad</label>
          <input type="text" class="form-control form-control-sm" [(ngModel)]="account.city" (change)="getAv (account.name, account.city)">
        </div>
      </div>
      <div class="col">
        <div class="form-group">
          <label for="">País</label>
          <input type="text" class="form-control form-control-sm" [(ngModel)]="account.country">
        </div>
      </div>
    </div>
    <p class="card-text text-help text-justify text-small">
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsa eos officia eius magnam rerum dolore quam quas rem necessitatibus soluta dolorem perspiciatis ullam omnis eveniet iure minus exercitationem, temporibus iste. Lorem ipsum, dolor sit amet consectetur adipisicing elit. Tempora veritatis omnis maxime ad, sit magnam ullam soluta voluptatum vel illum nihil odio aspernatur quasi sequi mollitia, voluptate placeat incidunt dignissimos!
    </p>

    <h5 class="card-title">
      Contactos
    </h5>
    <table class="table table-striped table-sm table-bordered">
      <thead class="thead-dark">
        <tr>
          <th>Nombre</th>
          <th>cargo</th>
          <th>Email</th>
          <th>Teléfono</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let i of contacts; let i = index">
          <td>{{i.name}}</td>
          <td>{{i.position}}</td>
          <td>{{i.email}}</td>
          <td>{{i.telephone}}</td>
          <td>
            <button class="btn btn-danger btn-sm" (click)="deletContact(i)">
              Borrar
            </button>
          </td>
        </tr>
      </tbody>
    </table>


    <div class="row">
      <div class="col">
        <div class="form-group">
          <label for="">Nombres</label>
          <input type="text" class="form-control form-control-sm" [(ngModel)]="contact.name">
        </div>
      </div>
      <div class="col">
        <div class="form-group">
          <label for="">Cargo</label>
          <input type="text" class="form-control form-control-sm" [(ngModel)]="contact.position">
        </div>
      </div>
      <div class="col">
        <div class="form-group">
          <label for="">Email</label>
          <input type="text" class="form-control form-control-sm" [(ngModel)]="contact.email">
        </div>
      </div>
      <div class="col">
        <div class="form-group">
          <label for="">Teléfono</label>
          <input type="text" class="form-control form-control-sm" [(ngModel)]="contact.telephone">
        </div>
      </div>
      <div class="col">
        <div class="form-group">
          <label for="">Agregar contacto</label>
          <button class="btn btn-secondary btn-sm" (click)="addContact()" >Agregar contacto</button>
        </div>
      </div>
    </div>

    <h5 class="card-title">
      Facturación
    </h5>
    <div class="row">
      <div class="col">
        <div class="form group">
          <label for="">Plan</label>
          <select name="" id="" class="form-control form-control-sm" [(ngModel)]="planSelect" >
            <option value="none">Selecciona un Plan</option>
            <option *ngFor="let i of plans" value="{{i._id}}">{{i.plan}}</option>
            
          </select>
        </div>
      </div>
      <div class="col"></div>
      <div class="col"></div>
      <div class="col"></div>
      <div class="col"></div>
    </div> <br><br>
    <div class="row">
      <div class="col">
        <div *ngFor="let i of plans">
          <div *ngIf="planSelect == i._id">
            <h5 class="">
                <strong>{{i.plan}}</strong> <span></span>
            </h5>
            <p class="text-muted">{{i.description}}</p>
            <!-- <p class="text-left" >
              <strong>Valor a Pagar {{i.total|currency:'$ '}}</strong>
            </p> -->
            <table class="table table-sm">
              <thead class="thead-dark">
                <tr>
                  <th>Valor Mes</th>
                  <th>Frecuencia de Pago</th>
                  <th>Descuento</th>
                  <th>Valor a Pagar</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td> {{i.value|currency:'$ '}} </td>
                  <td> {{i.frequency/30}} Mes(es) </td>
                  <td> {{i.off/100|percent}} </td>
                  <td> {{i.total|currency:'$ '}} </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>


    <div class="row">
      <div class="col">
        <button class="btn btn-primary btn-sm" (click)="saveAccount()">
          Guardar Cuenta
        </button>
      </div>
    </div>
  </div>
</div>